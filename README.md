# Docker 容器监控与自动重启工具

这是一个用 Rust 编写的 Docker 容器监控工具，它可以自动监控和重启意外停止的 Docker 容器。

## 主要功能

1. **容器监控**
   - 实时监控所有 Docker 容器的状态
   - 自动检测容器停止事件
   - 支持监控容器的环境变量、端口映射和挂载点

2. **自动重启**
   - 当容器意外停止时自动重启
   - 保持原有容器的所有配置（环境变量、端口映射、挂载点等）
   - 智能重试机制，避免频繁重启

3. **Web 界面**
   - 提供简洁的 Web 界面查看容器状态
   - 实时显示容器运行状态
   - 查看容器详细配置信息

## 技术栈

- Rust
- Bollard (Docker API 客户端)
- Axum (Web 框架)
- Tokio (异步运行时)

## 使用方法

1. **启动服务**
   ```bash
   cargo run
   ```

2. **访问 Web 界面**
   - 打开浏览器访问 `http://localhost:3000`
   - 如果 3000 端口被占用，程序会自动尝试 3001-3009 端口

## 配置说明

- 程序会自动监控所有正在运行的容器
- 当容器停止时，会尝试使用原始配置重启容器
- 重启时会保持：
  - 环境变量
  - 端口映射
  - 卷挂载
  - 网络设置
  - 其他 Docker 运行参数

## 注意事项

1. 需要有 Docker daemon 的访问权限
2. 建议使用 systemd 或其他工具确保本程序持续运行
3. 日志会输出到标准输出，建议配合日志收集工具使用

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License
